<div *ngIf="isLoading" class="d-flex flex-column justify-content-center">
    <app-top-bar></app-top-bar>
    <div class="loader align-self-center">
        <span></span>
        <span></span>
        <span></span>
    </div>
    <div class="typewriter">
        <p class="txt-wait">Hen Shuai predicting for you ...</p>
    </div>
    <!-- <p class="txt-wait" data-text="Our Artificial Intelligence model is doing crop yield prediction for you">Our Artificial Intelligence model<br> is doing crop yield prediction for you
    <p> -->
</div>
<div class="animasi" *ngIf="!isLoading">
    <div class="d-flex flex-column" style="margin: 8% 5%">
        <div class="d-flex flex-row">
            <mat-icon class="align-self-center" style="margin-right: 4%;" (click)="back()">arrow_back</mat-icon>
            <p class="txt-generate">Prediction Result</p>
        </div>


        <div class="d-flex flex-row" style="margin-top: 5%;">
            <div class="chart-wrapper box-sunny justify-content-center">
                <!-- <ngx-charts-pie-chart [view]="[100,100]" [scheme]="colorScheme" [results]="single" [doughnut]="isDoughnut" style="padding: 0;">
                </ngx-charts-pie-chart> -->
                <p class="align-self-center txt-sunny">{{ weather?.sunny_percentage | number: '1.0-0'}}%</p>
            </div>
            <div class="d-flex flex-column" class="align-self-center">
                <p class="txt-weather">Sunny&nbsp;&nbsp;<img src="../../assets/Icon awesome-sun.svg"></p>
                <p class="txt-freq">{{weather?.sunny_day}} out of 180 Days</p>
            </div>
        </div>

        <div class="d-flex flex-row" style="margin-top: 5%;">
            <div class="chart-wrapper box-sunny justify-content-center" style="border-color: #134F5C">
                <p class="align-self-center txt-sunny">{{ weather?.cloudy_percentage | number: '1.0-0' }}%</p>
            </div>
            <div class="d-flex flex-column" class="align-self-center">
                <p class="txt-weather">Cloudy&nbsp;&nbsp;<img src="../../assets/Icon awesome-cloud-sun.svg"></p>
                <p class="txt-freq">{{weather?.cloudy_day}} out of 180 Days</p>
            </div>
        </div>

        <div class="d-flex flex-row" style="margin-top: 5%;">
            <div class="chart-wrapper box-sunny justify-content-center" style="border-color: #147AD6">
                <p class="align-self-center txt-sunny">{{ weather?.rainy_percentage | number: '1.0-0' }}%</p>
            </div>
            <div class="d-flex flex-column" class="align-self-center">
                <p class="txt-weather">Rain&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img
                        src="../../assets/Icon awesome-cloud-rain.svg"></p>
                <p class="txt-freq">{{weather?.rainy_day}} out of 180 Days</p>
            </div>
        </div>
    </div>

    <div class="card-stats" style="margin: 5% 5%;">
        <div class="d-flex flex-column">
            <p class="txt-header">Your Upcoming Harvest Prediction</p>

            <div class="d-flex flex-row justify-content-between" style="margin-top: 5%;">
                <p class="txt-key">Global Harvest Result Estimation</p>
                <p class="txt-value">$ {{data_pred?.global_harvest}}</p>
            </div>
            <div class="d-flex flex-row justify-content-between" style="margin-top: 2%;">
                <p class="txt-key">Your Harvest Result Estimation</p>
                <p class="txt-value">$ {{data_pred?.personal_harvest}}</p>
            </div>
            <div class="d-flex flex-row justify-content-between" style="margin-top: 2%;">
                <p class="txt-key">Your Harvest Result Estimation</p>
                <p class="txt-value">{{data_pred?.harvest_result}} Kg</p>
            </div>
            <div class="d-flex flex-row justify-content-between" style="margin-top: 2%;">
                <p class="txt-key">Price Estimation / Kg</p>
                <p class="txt-value">$ {{data_pred?.price_estimation}}</p>
            </div>
        </div>
    </div>

    <div class="card-stats-two" style="margin: 5% 5%;">
        <div class="d-flex flex-column">
            <p class="txt-header">Our Recommendation</p>
            <p class="txt-sub-header">Coming from expertise knoweldge and AI collaboration</p>
            <div class="d-flex flex-row justify-content-between" style="margin-top: 3%;">
                <p class="txt-key">Pesticide Usage</p>
                <p class="txt-value">{{data_recommendation.pesticide}} Ltr</p>
            </div>
            <div class="d-flex flex-row justify-content-between" style="margin-top: 2%;">
                <p class="txt-key">Fertilizer Usage</p>
                <p class="txt-value">{{data_recommendation.fertilizer}} Kg</p>
            </div>
            <div class="d-flex flex-row justify-content-between" style="margin-top: 2%;">
                <p class="txt-key">Labors</p>
                <p class="txt-value">{{data_recommendation.labor}} Persons</p>
            </div>
        </div>
    </div>

    <p style="margin: 2% 5%" class="txt-link" (click)="navigateRealization()">Add Realization</p>
    <div style="height: 8px;">

    </div>
</div>